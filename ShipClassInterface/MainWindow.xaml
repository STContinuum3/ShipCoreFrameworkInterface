<Window x:Class="ShipClassInterface.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:local="clr-namespace:ShipClassInterface"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        xmlns:views="clr-namespace:ShipClassInterface.Views"
        xmlns:viewmodels="clr-namespace:ShipClassInterface.ViewModels"
        xmlns:controls="clr-namespace:ShipClassInterface.Controls"
        mc:Ignorable="d"
        Title="Space Engineers Ship Class Configuration Editor" 
        Height="900" Width="1600"
        WindowStartupLocation="CenterScreen"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="14"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        Background="{DynamicResource MaterialDesignPaper}"
        FontFamily="Segoe UI">

    <materialDesign:DialogHost Identifier="RootDialog">
        <DockPanel>
            <!-- Footer -->
            <materialDesign:ColorZone DockPanel.Dock="Bottom"
                                      Background="#212121"
                                      Mode="Dark"
                                      Padding="16,8">
                <StackPanel Orientation="Horizontal" 
                            HorizontalAlignment="Center"
                            VerticalAlignment="Center">
                    <!-- Continuum Gaming Logo -->
                    <!--<Image Source="/Images/stc-console.png" 
                           Height="40"
                           Margin="0,0,12,0"
                           VerticalAlignment="Center"
                           RenderOptions.BitmapScalingMode="HighQuality"/>-->

                    <TextBlock Text="Editor Powered By: " 
                               VerticalAlignment="Center"
                               FontSize="14"
                               Opacity="0.8"/>

                    <TextBlock VerticalAlignment="Center" FontSize="14">
                        <Hyperlink NavigateUri="https://stcontinuum.ca/"
                                   RequestNavigate="Hyperlink_RequestNavigate"
                                   Foreground="Blue"
                                   TextDecorations="None">
                            <TextBlock Text="Continuum Gaming" FontWeight="Medium"/>
                        </Hyperlink>
                    </TextBlock>
                </StackPanel>
            </materialDesign:ColorZone>

            <materialDesign:DrawerHost IsLeftDrawerOpen="{Binding IsDrawerOpen, Mode=OneWay}"
                                       OpenMode="Standard">
                <materialDesign:DrawerHost.LeftDrawerContent>
                    <DockPanel MinWidth="250">
                        <Grid DockPanel.Dock="Top" Margin="16">
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>

                            <TextBlock Grid.Column="0" 
                                   Text="Navigation" 
                                   FontSize="16" 
                                   FontWeight="Medium" 
                                   VerticalAlignment="Center"/>

                            <ToggleButton Grid.Column="1" 
                                      Style="{StaticResource MaterialDesignActionToggleButton}"
                                      IsChecked="{Binding IsPinned}"
                                      ToolTip="Pin Navigation Panel"
                                      Width="32" Height="32"
                                      Margin="0,0,8,0">
                                <ToggleButton.Content>
                                    <materialDesign:PackIcon Kind="Pin" Width="16" Height="16"/>
                                </ToggleButton.Content>
                                <materialDesign:ToggleButtonAssist.OnContent>
                                    <materialDesign:PackIcon Kind="PinOff" Width="16" Height="16"/>
                                </materialDesign:ToggleButtonAssist.OnContent>
                            </ToggleButton>

                            <!--<ToggleButton Grid.Column="2"
                                      Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                                      IsChecked="{Binding IsTemporarilyOpen}"
                                      Width="32" Height="32"
                                      ToolTip="Toggle Navigation Panel"
                                      Visibility="{Binding IsPinned, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Inverted}"/>-->
                        </Grid>

                        <ListBox x:Name="NavigationListBox" 
                             SelectedIndex="{Binding SelectedIndex}"
                             Margin="0,16,0,16">
                            <ListBox.Resources>
                                <Style TargetType="ListBoxItem" BasedOn="{StaticResource MaterialDesignListBoxItem}">
                                    <Setter Property="Height" Value="60"/>
                                    <Setter Property="Padding" Value="16,8"/>
                                </Style>
                            </ListBox.Resources>

                            <ListBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Rocket" Width="24" Height="24" VerticalAlignment="Center"/>
                                    <TextBlock Text="Ship Cores" Margin="16,0,0,0" VerticalAlignment="Center" FontSize="16"/>
                                </StackPanel>
                            </ListBoxItem>

                            <ListBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Group" Width="24" Height="24" VerticalAlignment="Center"/>
                                    <TextBlock Text="Block Groups" Margin="16,0,0,0" VerticalAlignment="Center" FontSize="16"/>
                                </StackPanel>
                            </ListBoxItem>

                            <ListBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Earth" Width="24" Height="24" VerticalAlignment="Center"/>
                                    <TextBlock Text="World Config" Margin="16,0,0,0" VerticalAlignment="Center" FontSize="16"/>
                                </StackPanel>
                            </ListBoxItem>

                            <ListBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="FileMultiple" Width="24" Height="24" VerticalAlignment="Center"/>
                                    <TextBlock Text="Manifest" Margin="16,0,0,0" VerticalAlignment="Center" FontSize="16"/>
                                </StackPanel>
                            </ListBoxItem>

                            <ListBoxItem>
                                <StackPanel Orientation="Horizontal">
                                    <materialDesign:PackIcon Kind="Cube" Width="24" Height="24" VerticalAlignment="Center"/>
                                    <TextBlock Text="Block Creator" Margin="16,0,0,0" VerticalAlignment="Center" FontSize="16"/>
                                </StackPanel>
                            </ListBoxItem>
                        </ListBox>
                    </DockPanel>
                </materialDesign:DrawerHost.LeftDrawerContent>

                <DockPanel>
                    <materialDesign:ColorZone Padding="16" 
                                          materialDesign:ElevationAssist.Elevation="Dp4"
                                          DockPanel.Dock="Top"
                                          Mode="Dark">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition Width="50"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                                <ColumnDefinition Width="Auto"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="50"/>
                            </Grid.RowDefinitions>
                            <ToggleButton x:Name="MenuToggleButton"
                                      Grid.Column="0"
                                      Style="{StaticResource MaterialDesignHamburgerToggleButton}"
                                      IsChecked="{Binding IsTemporarilyOpen}"
                                      Visibility="{Binding IsPinned, Converter={StaticResource BooleanToVisibilityConverter}, ConverterParameter=Inverted}"/>

                            <TextBlock Grid.Column="1"
                                   HorizontalAlignment="Center"
                                   VerticalAlignment="Center"
                                   FontSize="22"
                                       Margin="10,0,0,0"
                                   Text="SHIP CORE"/>
                            <TextBlock Grid.Column="2"
        HorizontalAlignment="Center"
        VerticalAlignment="Center"
        FontSize="22"
        Text="FRAMEWORK EDITOR"/>

                            <StackPanel Grid.Column="3" Orientation="Horizontal">
                                <!--<materialDesign:PackIcon Kind="SpaceInvaders" Width="32" Height="32" VerticalAlignment="Center"/>-->
                            </StackPanel>
                        </Grid>
                    </materialDesign:ColorZone>

                    <Grid>
                        <ContentControl Content="{Binding CurrentViewModel}">
                            <ContentControl.Resources>
                                <DataTemplate DataType="{x:Type viewmodels:ShipCoreViewModel}">
                                    <views:ShipCoreView/>
                                </DataTemplate>
                                <DataTemplate DataType="{x:Type viewmodels:BlockGroupViewModel}">
                                    <views:BlockGroupView/>
                                </DataTemplate>
                                <DataTemplate DataType="{x:Type viewmodels:WorldConfigViewModel}">
                                    <views:WorldConfigView/>
                                </DataTemplate>
                                <DataTemplate DataType="{x:Type viewmodels:ManifestViewModel}">
                                    <views:ManifestView/>
                                </DataTemplate>
                                <DataTemplate DataType="{x:Type viewmodels:BlockCreatorViewModel}">
                                    <views:BlockCreatorView/>
                                </DataTemplate>
                            </ContentControl.Resources>
                        </ContentControl>

                        <!-- Toast Notifications -->
                        <controls:ToastNotificationControl Panel.ZIndex="1000"
                                                       VerticalAlignment="Top" 
                                                       HorizontalAlignment="Right"/>
                    </Grid>
                </DockPanel>
            </materialDesign:DrawerHost>
        </DockPanel>
    </materialDesign:DialogHost>
</Window>
