<Window x:Class="ShipClassInterface.Dialogs.BlockGroupSelectionDialog"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:materialDesign="http://materialdesigninxaml.net/winfx/xaml/themes"
        mc:Ignorable="d"
        Title="Select Block Groups"
        Height="500" Width="400"
        WindowStartupLocation="CenterOwner"
        Style="{StaticResource MaterialDesignWindow}"
        Background="{DynamicResource MaterialDesignPaper}"
        TextElement.Foreground="{DynamicResource MaterialDesignBody}"
        TextElement.FontWeight="Regular"
        TextElement.FontSize="14"
        TextOptions.TextFormattingMode="Ideal"
        TextOptions.TextRenderingMode="Auto"
        FontFamily="{DynamicResource MaterialDesignFont}">
    
    <Grid Margin="16">
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="*"/>
            <RowDefinition Height="Auto"/>
            <RowDefinition Height="Auto"/>
        </Grid.RowDefinitions>

        <!-- Header -->
        <TextBlock Grid.Row="0" 
                   Text="Select Block Groups" 
                   Style="{StaticResource MaterialDesignHeadline6TextBlock}"
                   Margin="0,0,0,16"/>

        <!-- Block Groups List -->
        <Border Grid.Row="1" 
                BorderBrush="{DynamicResource MaterialDesignDivider}"
                BorderThickness="1"
                CornerRadius="4"
                Margin="0,0,0,16">
            <ScrollViewer VerticalScrollBarVisibility="Auto"
                          HorizontalScrollBarVisibility="Disabled">
                <ItemsControl Name="BlockGroupsList" Margin="8">
                    <ItemsControl.ItemTemplate>
                        <DataTemplate>
                            <CheckBox Content="{Binding Name}"
                                      IsChecked="{Binding IsSelected}"
                                      Margin="4,2"
                                      Style="{StaticResource MaterialDesignCheckBox}"/>
                        </DataTemplate>
                    </ItemsControl.ItemTemplate>
                </ItemsControl>
            </ScrollViewer>
        </Border>

        <!-- Selection Info and Quick Actions -->
        <Grid Grid.Row="2" Margin="0,0,0,16">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="*"/>
                <ColumnDefinition Width="Auto"/>
            </Grid.ColumnDefinitions>
            
            <!-- Selection Count -->
            <TextBlock Grid.Column="0" 
                       Name="SelectionCountText"
                       VerticalAlignment="Center"
                       Foreground="{DynamicResource MaterialDesignBodyLight}"/>
            
            <!-- Quick Action Buttons -->
            <StackPanel Grid.Column="1" Orientation="Horizontal">
                <Button Name="SelectAllButton"
                        Content="Select All"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Margin="0,0,8,0"
                        Click="SelectAllButton_Click"/>
                <Button Name="ClearAllButton"
                        Content="Clear All"
                        Style="{StaticResource MaterialDesignFlatButton}"
                        Click="ClearAllButton_Click"/>
            </StackPanel>
        </Grid>

        <!-- Dialog Buttons -->
        <StackPanel Grid.Row="3" 
                    Orientation="Horizontal"
                    HorizontalAlignment="Right">
            <Button Name="CancelButton"
                    Content="CANCEL"
                    Style="{StaticResource MaterialDesignFlatButton}"
                    Margin="0,0,8,0"
                    Click="CancelButton_Click"/>
            <Button Name="OkButton"
                    Content="OK"
                    Style="{StaticResource MaterialDesignRaisedButton}"
                    IsDefault="True"
                    Click="OkButton_Click"/>
        </StackPanel>
    </Grid>
</Window>